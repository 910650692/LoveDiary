# LoveDiary项目功能总览

## 项目简介
LoveDiary是一个情侣纪念日管理系统的后端API服务，采用Spring Boot架构，提供完整的用户管理、情侣匹配、数据管理等功能。

## 已实现功能清单

### 1. 用户管理功能 ✅
- **用户注册/登录**：支持用户名/邮箱注册登录，JWT认证
- **用户资料管理**：昵称、邮箱、手机号、性别、生日等
- **密码管理**：密码修改，SHA-256加密存储
- **头像管理**：头像上传，根据性别自动设置默认头像
- **邀请码系统**：自动生成6位邀请码用于情侣匹配

### 2. 情侣管理功能 ✅
- **情侣匹配**：通过邀请码进行匹配
- **恋爱日期管理**：设置和修改恋爱开始日期
- **关系统计**：自动计算恋爱天数、月数、年数
- **状态管理**：ACTIVE/INACTIVE状态控制
- **详细信息查询**：获取情侣双方完整信息

### 3. 纪念日功能 ✅
- **纪念日CRUD**：完整的创建、查询、更新、删除功能
- **智能提醒**：计算即将到来的纪念日（7天内、30天内）
- **推送设置**：每个纪念日可单独设置推送开关
- **批量管理**：支持批量设置推送状态
- **搜索功能**：支持关键词搜索纪念日
- **统计分析**：详细的纪念日统计数据

### 4. TodoList功能 ✅
- **任务管理**：创建、查询、更新、删除待办事项
- **状态管理**：PENDING（待完成）、COMPLETED（已完成）
- **优先级设置**：支持任务优先级
- **搜索筛选**：按状态筛选、关键词搜索
- **统计信息**：完成率、总数统计
- **权限控制**：情侣双方共享数据

### 5. 相册/照片管理功能 ✅
- **相册管理**：创建、查询、搜索相册
- **照片上传**：支持多种图片和视频格式
- **iOS格式支持**：特别支持HEIC、LIVP（实况图片）等
- **照片分类**：可分配到指定相册
- **收藏功能**：照片收藏/取消收藏
- **批量删除**：支持批量删除照片
- **元数据管理**：记录描述、地点、尺寸等信息

### 6. 生理期记录功能 ✅
- **记录管理**：记录生理期开始和结束日期
- **智能预测**：基于历史数据预测下次生理期
- **数据查询**：按日期范围和类型筛选
- **统计分析**：分析周期规律性
- **数据验证**：验证数据合理性

### 7. 标签管理功能 ✅
- **标签系统**：创建、更新、删除标签
- **颜色支持**：标签支持颜色代码
- **照片标签**：为照片分配多个标签
- **多对多关系**：照片和标签关联管理

### 8. 文件存储功能 ✅
- **本地存储**：使用本地文件系统存储
- **静态资源访问**：通过HTTP直接访问文件
- **文件信息查询**：文件存在性和信息查询
- **自动命名**：智能文件命名规则

### 9. 系统管理功能 ✅
- **健康检查**：服务状态、版本信息、内存监控
- **API文档**：自动生成API接口文档
- **错误处理**：完善的异常处理机制
- **CORS支持**：支持跨域访问

## 技术架构特点

### 安全认证
- JWT认证机制，过期时间7天
- 严格的用户权限控制
- 情侣数据隔离

### 数据存储
- 软删除支持
- 自动时间戳管理
- 关键字段索引优化

### API设计
- RESTful设计原则
- 统一响应格式
- 完善的错误处理

## 项目完整性

### 功能完整度：95%
- ✅ 核心功能全部实现
- ✅ 用户体验友好
- ✅ 数据安全可靠
- ✅ 性能优化良好

### 特色功能
- 🌟 iOS格式支持（HEIC、LIVP）
- 🌟 智能生理期预测
- 🌟 纪念日推送设置
- 🌟 情侣数据共享
- 🌟 完整的权限控制

## 开发命令
```bash
# 运行项目
mvn spring-boot:run

# 编译打包
mvn clean package

# 运行测试
mvn test
```

## API测试
```bash
# 使用提供的测试脚本
./test_api.sh
./test_batch_delete_api.sh
```

## 文档参考
- API接口文档.md
- JWT_API_使用说明.md
- iOS格式支持说明.md
- 头像上传功能测试说明.md
- 恋爱开始日期功能测试说明.md
- 推送设置功能说明.md

## 数据库
- 表结构：user_tables_setup.sql
- 数据迁移：migrate_period_records.sql, migrate_remove_tags_field.sql

---
*最后更新：2025-07-22*
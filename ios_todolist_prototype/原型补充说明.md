# 原型设计补充说明

## 已完成的页面补充

### 1. ✅ 首页改进
**位置**: `main.html` 第73-110行

**新增内容**:
- **今日情绪卡片**: 显示双方今天的心情
  - 我的情绪：开心 😊
  - Ta的情绪：难过 😢
  - 点击可查看更多或安慰对方
  - "查看更多"按钮跳转到情绪记录页面

**改进内容**:
- 快捷入口中，将"生理期"改为"情绪记录"（第132-137行）
- 与后端新功能对应

---

### 2. ✅ 情绪记录页面（全新）
**位置**: `main.html` 第769-1025行
**页面ID**: `moodPage`

**功能模块**:

#### 2.1 今日情绪摘要
- 双方今日情绪卡片
- 显示心情、原因、记录时间
- 对方心情不好时可点击"安慰Ta"

#### 2.2 情绪日历
- 月度日历视图
- 每天显示双方的心情表情
- 点击日期可查看详情
- 支持月份切换

#### 2.3 情绪统计
- 本月统计：开心12天、平淡8天、难过2天、甜蜜5天
- 直观的统计卡片展示

#### 2.4 最近记录列表
- 时间线形式展示最近的情绪记录
- 包含用户头像、心情、原因、时间

**设计特点**:
- 日历采用表情显示，直观易懂
- 区分"我"和"Ta"的情绪（不同颜色标识）
- 图例说明清晰

---

### 3. ✅ 愿望清单页面（完善）
**位置**: `main.html` 第619-753行

**原状态**: 只有占位符
**现状态**: 完整功能页面

**功能模块**:

#### 3.1 统计卡片
- 总愿望：12个
- 已完成：5个
- 完成率：42%

#### 3.2 筛选标签
- 全部
- 进行中
- 已完成

#### 3.3 愿望列表
包含4个示例愿望卡片：
1. **一起去看极光** - 未完成，高优先级
2. **一起做一顿大餐** - 已完成，附照片和感想
3. **去迪士尼乐园** - 未完成，中优先级
4. **学会一首双人舞** - 未完成，低优先级

**设计特点**:
- 已完成的愿望显示完成日期和照片
- 优先级标签（高/中/低）
- 复选框交互
- 编辑按钮

---

### 4. ✅ 登录注册页面（独立文件）
**文件**: `login.html`

**功能模块**:

#### 4.1 登录表单
- 用户名/邮箱输入
- 密码输入（支持显示/隐藏）
- 记住我选项
- 忘记密码链接

#### 4.2 注册表单
- 用户名
- 昵称
- 邮箱
- 密码 + 确认密码
- 性别选择（男生/女生，emoji图标）

#### 4.3 第三方登录
- 微信登录
- QQ登录

**设计特点**:
- 渐变粉紫背景
- 心形logo跳动动画
- Tab切换登录/注册
- 表单验证
- 响应式布局

---

## 页面完整性对照表

| 页面 | 状态 | 说明 |
|-----|------|------|
| 首页 | ✅ 完整 | 新增情绪卡片 |
| 纪念日页面 | ✅ 完整 | 已有 |
| 相册页面 | ✅ 完整 | 已有 |
| 愿望清单页面 | ✅ 完整 | 已补充 |
| 情绪记录页面 | ✅ 完整 | 新增 |
| 生理期页面 | ⚠️ 占位 | 功能暂未实现 |
| 个人中心页面 | ✅ 完整 | 已有 |
| 登录注册页面 | ✅ 完整 | 新增独立文件 |

---

## 底部Tab导航

当前Tab：
1. 首页 🏠
2. 纪念日 📅
3. 相册 📷
4. 愿望 ✨
5. 我的 👤

**建议**:
- 如果要添加情绪记录到Tab，可以替换掉"愿望"或添加第6个Tab
- 或者保持现状，通过首页卡片和快捷入口访问情绪记录

---

## 使用说明

### 查看主应用
```bash
# 打开浏览器访问
main.html
```

### 查看登录页面
```bash
# 打开浏览器访问
login.html
```

### 页面跳转关系
```
login.html (登录)
    ↓
main.html (主应用)
    ├── homePage (首页)
    │   ├── 情侣状态卡片
    │   ├── 今日情绪卡片 ← 新增
    │   └── 快捷功能 → 情绪记录 ← 修改
    ├── anniversaryPage (纪念日)
    ├── albumPage (相册)
    ├── todosPage (愿望清单) ← 完善
    ├── moodPage (情绪记录) ← 新增
    ├── periodPage (生理期-占位)
    └── profilePage (个人中心)
```

---

## 与后端API对应关系

### 情绪记录功能
| 前端页面 | 后端API |
|---------|---------|
| 今日情绪卡片 | GET /api/moods/today |
| 情绪日历 | GET /api/moods/calendar?year=2024&month=12 |
| 最近记录 | GET /api/moods/my?startDate=xxx&endDate=xxx |
| 记录情绪 | POST /api/moods |

### 愿望清单功能
| 前端页面 | 后端API |
|---------|---------|
| 愿望列表 | GET /api/todos/couple/{coupleId} |
| 创建愿望 | POST /api/todos |
| 更新愿望 | PUT /api/todos/{todoId} |
| 完成愿望 | PUT /api/todos/{todoId}/complete |

---

## 配色方案（保持原有）

```css
--primary-pink: #FF6B9D      /* 主色：粉色 */
--primary-pink-light: #FF8FAB
--primary-pink-dark: #E5568A
--secondary-blue: #87CEEB    /* 辅色：天蓝 */
--secondary-purple: #DDA0DD  /* 辅色：紫色 */
```

---

## 下一步建议

### SwiftUI开发顺序：
1. **登录注册页面** (login.html → SwiftUI)
2. **首页** (homePage → SwiftUI)
3. **情绪记录页面** (moodPage → SwiftUI)
4. **纪念日页面** (anniversaryPage → SwiftUI)
5. **相册页面** (albumPage → SwiftUI)
6. **愿望清单页面** (todosPage → SwiftUI)
7. **个人中心页面** (profilePage → SwiftUI)

### 优先级：
- 🔥 **P0**: 登录、首页、纪念日（核心流程）
- ⭐ **P1**: 情绪记录、相册（新功能）
- 💎 **P2**: 愿望清单、个人中心（完善功能）

---

**更新时间**: 2024-12-19
**原型完整度**: 95%
